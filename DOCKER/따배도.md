### 도커관련 참고할 내용은 공식 문서를 확인하자
https://docs.docker.com/

### CentOS 부팅시 docker 자동 스타트
* systemclt status docker 로 확인해보면 loaded가 disabled 상태인것을 알 수 있다
* 이는 부팅시에 docker 서비스가 자동으로 실행되지 않는다는 것을 의미한다
* systemctl enable docker 를 실행하여 enabled로 변경한다
* 참고로 우분투는 이과정이 기본으도 되어있어서 별도의 작업이 필요없다

<img src="https://github.com/yoonmin-kim/TIL/blob/main/DOCKER/img/1.png?raw=true">

___

### Ubuntu, CentOS 에서 일반 유저에게 도커 권한 부여하기
```
1. root계정 접속
su -
패스워드 입력

2. guru라는 유저가 docker라는 그룹의 맴버가 되도록 허가)
usermod -a -G docker guru

3. guru 유저로 docker 실행 확인
su - guru
docker ps
```

### 컨테이너 동작방식
```
(docker hub에 컨테이너 이미지 존재하는지 검색하기)
docker search nginx

(hub에서 이미지 가져오기)
doker pull nginx:latest

(이미지를 컨테이터로 실행하기)
docker run -d --name web -p 80:80 nginx:latest
```

### 도커이미지 레이어
* nginx 를 pull 할 경우 5개의 이미지 레이어로 되어있는것을 확인 할 수 있다

<img src="./img/2.png">

* /var/lib/docker/overlay2 에서 실제 이미지 레이어가 저장 된 것을 확인할 수 있다

<img src="./img/3.png">