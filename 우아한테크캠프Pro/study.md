### TDD
```
(TDD를 하는이유)
- 디버깅 시간을 줄여준다
- 동작하는 문서 역할을 한다
- 변화에 대한 두려움을 줄여준다
```

* 요구사항 분석을 통해 대략적인 설계 - 객체 추출
* UI, DB에 의존하지 않는 핵심 도메인 영역을 집중 설계
* 도메인 로직을 테스트하는 것에 집중
* 테스트하기 어려운 부분을 찾아 테스트 가능한 구조로 개선
   * 객체 그래프에서 다른 객체와 의존관계를 가지지 않는 마지막 노드를 먼저 찾는다
   * 테스트하기 어려운 코드의 의존관계를 객체 그래프의 상위로 이동 시킨다
    <img src="./img/1.png">

### 리팩토링
* indent를 줄이고, 가독성을 높인다
    * else 예약어 쓰지않기
* 메서드 분리 리팩토링 규칙
    * 한메서드에 오직 한단계의 들여쓰기(indent)만 한다
    * 클린코드 책: 작게 만들어라
        * 함수를 만드는 첫번째 규칙은 `작게`다 두번째 규칙은 `더 작게`다
    * 클린코드 책: 한가지만 해라
        * 함수는 한가지를 해야하며, 그 한가지를 잘해야 하며, 그 한가지만 해야한다
* 클래스 분리 리팩토링 규칙
    * 모든 원시값과 문자열을 포장
    * 일급 콜렉션을 쓴다
    * 클린코드 책: 함수 인수
        * 함수에서 이상적인 인수 개수는 0개(무항)이며 그 다음은 1개 그 다음은 2개
        * 3개는 가능한 피하는 편이 좋다
        * 4개 이상은 특별한 이유가 있어도 사용하면 안된다

### 2022-10-27 온라인 강의
* test fixture -> input/output -> assert검증
* 테스트를 위해 메서드를 추가하는것은 매우 나쁜 방식
* 테스트를 위해 생성자를 추가하는것은 장려하는 방식
```
1단계: 실패하는 테스트코드 작성, 컴파일에러 해결
2단계: 초록불을 볼 수 있도록 동작하는 기능 빠르게 구현
3단계: 리팩토링
```
* 객체에서 getter를 써서 값을 꺼내지말고 객체에게 직접 메세지를 보내라
  * 깔끔한 코드가 나온다
  * TDD하기에도 수월한 코드가 나온다
* 리팩토링을 안정적으로 하기 위해 잠시 중복코드를 만드는 악행을 저질러도 된다